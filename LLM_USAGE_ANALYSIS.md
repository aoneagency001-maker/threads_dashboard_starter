# ü§ñ –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è LLM –º–æ–¥–µ–ª–µ–π –≤ –ø—Ä–æ–µ–∫—Ç–µ

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å GitHub

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- –ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç: `3e8427d` - "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å..."
- –í–µ—Ç–∫–∞ `main` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å `origin/main`
- –†–∞–±–æ—á–µ–µ –¥–µ—Ä–µ–≤–æ —á–∏—Å—Ç–æ–µ (no uncommitted changes)

---

## üìä –û–±–∑–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö LLM –º–æ–¥–µ–ª–µ–π

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **2 LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞**:

1. **OpenAI GPT-4o-mini** - –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥–µ–ª—å–Ω—ã–π —Ä—è–¥ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
2. **Google Gemini 2.5 Flash** - –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–Ω–∏–≥

---

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ —ç—Ç–∞–ø–∞–º –æ–±—Ä–∞–±–æ—Ç–∫–∏

### 1Ô∏è‚É£ **–≠—Ç–∞–ø: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ PDF**

**–ú–æ–¥–µ–ª—å:** –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (—Ç–æ–ª—å–∫–æ PyMuPDF)

**–ì–¥–µ:** `backend/parser.py`
- `extract_pages_from_pdf()` - –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏–∑ PDF –±–µ–∑ LLM
- `clean_text()` - –±–∞–∑–æ–≤–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ (regex)

---

### 2Ô∏è‚É£ **–≠—Ç–∞–ø: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º—ã –∫–Ω–∏–≥–∏**

**–ú–æ–¥–µ–ª—å:** `gpt-4o-mini` (OpenAI)

**–ì–¥–µ:** `backend/parser.py` ‚Üí `_infer_topic_via_llm()`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–Ω–∏–≥–∏
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≥–ª–∞–≤–Ω—É—é —Ç–µ–º—É –∫–Ω–∏–≥–∏ (–º–∞—Ä–∫–µ—Ç–∏–Ω–≥, –ø—Ä–æ–¥–∞–∂–∏, –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è –∏ —Ç.–¥.)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ü–∏—Ç–∞—Ç

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `temperature: 0.0` (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç)
- `max_tokens: ~100` (–∫—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç)
- –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –ø–µ—Ä–≤—ã–µ 4000 —Å–∏–º–≤–æ–ª–æ–≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

### 3Ô∏è‚É£ **–≠—Ç–∞–ø: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ü–∏—Ç–∞—Ç –∏–∑ —Ç–µ–∫—Å—Ç–∞**

#### –í–∞—Ä–∏–∞–Ω—Ç A: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ (GPT)

**–ú–æ–¥–µ–ª—å:** `gpt-4o-mini` (OpenAI)

**–ì–¥–µ:** `backend/parser.py` ‚Üí `analyze_chunk()`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Ç–µ–∫—Å—Ç–∞ (–ø–æ 5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–¥–µ–∏ –∏ —Ü–∏—Ç–∞—Ç—ã –ø–æ —Ç–µ–º–µ –∫–Ω–∏–≥–∏
- –°–æ–∑–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å –ø–æ–ª—è–º–∏: `summary`, `quote`, `original`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `temperature: 0.2` (–±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å—é –∏ —Ç–æ—á–Ω–æ—Å—Ç—å—é)
- `max_input: 6000 —Å–∏–º–≤–æ–ª–æ–≤` –Ω–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç
- –û–±—Ä–∞–±–æ—Ç–∫–∞: –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ, –ø–æ –∞–±–∑–∞—Ü–∞–º

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ì–ª—É–±–æ–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (Gemini)

**–ú–æ–¥–µ–ª—å:** `gemini-2.5-flash` (Google)

**–ì–¥–µ:** `backend/gemini_extractor.py` ‚Üí `extract_all_insights_from_text()`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- **–ò–∑–≤–ª–µ–∫–∞–µ—Ç –í–°–ï –∏–Ω—Å–∞–π—Ç—ã –∏–∑ –∫–Ω–∏–≥–∏ –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å**
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å—é –∫–Ω–∏–≥—É —Å—Ä–∞–∑—É (–¥–æ 500K —Å–∏–º–≤–æ–ª–æ–≤ –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ)
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç 50-200 –ª—É—á—à–∏—Ö —Ü–∏—Ç–∞—Ç —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–µ–π

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `temperature: 0.3` (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ñ–∞–∫—Ç–æ–≤)
- `max_output_tokens: 16384` (–±–æ–ª—å—à–æ–π –≤—ã–≤–æ–¥)
- `max_input: 500000 —Å–∏–º–≤–æ–ª–æ–≤` (–æ–≥—Ä–æ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç!)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –í—Å—è –∫–Ω–∏–≥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É, –∞ –Ω–µ –ø–æ —á–∞—Å—Ç—è–º

#### –í–∞—Ä–∏–∞–Ω—Ç C: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ (Gemini)

**–ú–æ–¥–µ–ª—å:** `gemini-2.5-flash` (Google)

**–ì–¥–µ:** `backend/gemini_book_analyzer.py` ‚Üí `extract_insights_from_chapter()`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –†–∞–∑–±–∏–≤–∞–µ—Ç –∫–Ω–∏–≥—É –Ω–∞ –≥–ª–∞–≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥—É—é –≥–ª–∞–≤—É –æ—Ç–¥–µ–ª—å–Ω–æ
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Å–∞–π—Ç—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ —Ç–∏–ø–∞–º–∏ –º–µ—Ç–æ–¥–æ–≤
- –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–º–∞—Ä–∫–µ—Ç–∏–Ω–≥, –ø—Ä–æ–¥–∞–∂–∏, –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è –∏ —Ç.–¥.)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `temperature: 0.3`
- `max_chars per chapter: 40000`
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ç–∏–ø—ã –º–µ—Ç–æ–¥–æ–≤, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å

---

### 4Ô∏è‚É£ **–≠—Ç–∞–ø: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–∏—Ç–∞—Ç**

**–ú–æ–¥–µ–ª—å:** `gpt-4o-mini` (OpenAI)

**–ì–¥–µ:** `backend/parser.py` ‚Üí `_validate_quote_llm()`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–∏—Ç–∞—Ç—É –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–µ–º–µ –∫–Ω–∏–≥–∏
- –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç —Ä–µ–∫–ª–∞–º—É –¥—Ä—É–≥–∏—Ö –∫–Ω–∏–≥/–∞–≤—Ç–æ—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ª—É–∂–µ–±–Ω–æ–≥–æ –º—É—Å–æ—Ä–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true/false` –¥–ª—è –∫–∞–∂–¥–æ–π —Ü–∏—Ç–∞—Ç—ã

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `temperature: 0.0` (—Å—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è)
- `max_input: 6000 —Å–∏–º–≤–æ–ª–æ–≤`
- –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –æ–¥–Ω–∞ —Ü–∏—Ç–∞—Ç–∞ + —Ç–µ–º–∞ –∫–Ω–∏–≥–∏ + –∞–≤—Ç–æ—Ä

---

### 5Ô∏è‚É£ **–≠—Ç–∞–ø: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ü–∏—Ç–∞—Ç**

**–ú–æ–¥–µ–ª—å:** `gpt-4o-mini` (OpenAI)

**–ì–¥–µ:** `backend/parser.py` ‚Üí `filter_quotes()`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ü–∏—Ç–∞—Ç—ã –±–∞—Ç—á–∞–º–∏ (–ø–æ 100 —à—Ç—É–∫)
- –û—Ç–±–∏—Ä–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã–µ, –ø–æ–ª–µ–∑–Ω—ã–µ –∏–ª–∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–µ —Ü–∏—Ç–∞—Ç—ã
- –£–¥–∞–ª—è–µ—Ç –æ–±—â–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `temperature: 0.2`
- `batch_size: 100 —Ü–∏—Ç–∞—Ç`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–∞–º–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤

---

### 6Ô∏è‚É£ **–≠—Ç–∞–ø: –£–ª—É—á—à–µ–Ω–∏–µ –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–∞ —Ü–∏—Ç–∞—Ç**

#### A. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞—Ç—á–∞–º–∏

**–ú–æ–¥–µ–ª—å:** `gpt-4o-mini` (OpenAI)

**–ì–¥–µ:** `backend/agent.py` ‚Üí `_refine_batch()`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –ø–æ–ª–∏—Ä—É–µ—Ç —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ü–∏—Ç–∞—Ç—ã
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç—å –º—ã—Å–ª–∏
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–ª–∏–Ω—É (‚â§500 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è Threads)
- –î–æ–±–∞–≤–ª—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: `category`, `style`, `engaging`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `temperature: 0.2` (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- `batch_size: 30 —Ü–∏—Ç–∞—Ç`
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ü–µ–ª—ã–π –±–∞—Ç—á –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å

#### B. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤

**–ú–æ–¥–µ–ª—å:** `gpt-4o-mini` (OpenAI)

**–ì–¥–µ:** `backend/agent.py` ‚Üí `_extract_engaging_from_chunk()`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç 1-2 –∫–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞
- –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç—å, –¥–ª–∏–Ω–∞, –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç—å)
- –°–æ–∑–¥–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ —Ü–∏—Ç–∞—Ç—ã –¥–ª—è Threads

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `temperature: 0.3` (–±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å—é –∏ —Ç–æ—á–Ω–æ—Å—Ç—å—é)
- `max_input: 6000 —Å–∏–º–≤–æ–ª–æ–≤` –Ω–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç
- –í—ã—Ö–æ–¥: 1-2 —Ü–∏—Ç–∞—Ç—ã

#### C. –£–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞

**–ú–æ–¥–µ–ª—å:** `gpt-4o-mini` (OpenAI)

**–ì–¥–µ:** `backend/smart_quote_extractor.py` ‚Üí `_analyze_quote_quality()`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Ü–∏—Ç–∞—Ç—ã –ø–æ 5 –∫—Ä–∏—Ç–µ—Ä–∏—è–º:
  1. –ó–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç—å
  2. –û—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç—å
  3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å
  4. –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
  5. –ö–æ–Ω—Ç–µ–∫—Å—Ç
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É —Å reasoning
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø —Ü–∏—Ç–∞—Ç—ã (full_paragraph, half_paragraph, specific_quote –∏ —Ç.–¥.)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `temperature: 0.2` (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞)
- –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: —Ü–∏—Ç–∞—Ç–∞ + –∫–æ–Ω—Ç–µ–∫—Å—Ç (1000 —Å–∏–º–≤–æ–ª–æ–≤)

---

### 7Ô∏è‚É£ **–≠—Ç–∞–ø: –ü–µ—Ä–µ–≤–æ–¥ —Ü–∏—Ç–∞—Ç**

**–ú–æ–¥–µ–ª—å:** `gpt-4o-mini` (OpenAI)

**–ì–¥–µ:** `backend/parser.py` ‚Üí `translate_text()`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–µ—Ä–µ–≤–æ–¥–∏—Ç —Ü–∏—Ç–∞—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ (–∏–ª–∏ –¥—Ä—É–≥–æ–π —Ü–µ–ª–µ–≤–æ–π —è–∑—ã–∫)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç–∏–ª—å –∏ –∫—Ä–∞—Ç–∫–æ—Å—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `temperature: 0.3` (–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥)
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ –æ–¥–Ω–æ–π —Ü–∏—Ç–∞—Ç–µ
- **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í –Ω–æ–≤—ã—Ö –º–µ—Ç–æ–¥–∞—Ö (Gemini) –ø–µ—Ä–µ–≤–æ–¥ —á–∞—Å—Ç–æ –Ω–µ –Ω—É–∂–µ–Ω, —Ç.–∫. –º–æ–¥–µ–ª—å –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ª—É—á—à–µ

---

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (GPT-4o-mini):

```
PDF ‚Üí –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ ‚Üí –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã ‚Üí 
GPT –∞–Ω–∞–ª–∏–∑ (–ø–æ —á–∞—Å—Ç—è–º) ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è ‚Üí 
–£–ª—É—á—à–µ–Ω–∏–µ ‚Üí –ü–µ—Ä–µ–≤–æ–¥ ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚è±Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (–º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤)
- üí∞ –î–æ—Ä–æ–∂–µ ($15/1M —Ç–æ–∫–µ–Ω–æ–≤)
- üìÑ –ö–æ–Ω—Ç–µ–∫—Å—Ç: 128K —Ç–æ–∫–µ–Ω–æ–≤ (–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —á–∞—Å—Ç—è–º–∏)
- ‚úÖ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- üéØ –¢–æ—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

### –ì–ª—É–±–æ–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (Gemini-2.5-Flash):

```
PDF ‚Üí –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ ‚Üí –í—Å—è –∫–Ω–∏–≥–∞ —Å—Ä–∞–∑—É ‚Üí
Gemini –∞–Ω–∞–ª–∏–∑ (–æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å) ‚Üí –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚ö° –ë—ã—Å—Ç—Ä–µ–µ (1-2 –∑–∞–ø—Ä–æ—Å–∞ –≤–º–µ—Å—Ç–æ —Å–æ—Ç–µ–Ω)
- üí∏ –î–µ—à–µ–≤–ª–µ ($0.075/1M —Ç–æ–∫–µ–Ω–æ–≤ - –≤ 200 —Ä–∞–∑!)
- üìö –ö–æ–Ω—Ç–µ–∫—Å—Ç: 2M —Ç–æ–∫–µ–Ω–æ–≤ (–≤—Å—è –∫–Ω–∏–≥–∞ —Å—Ä–∞–∑—É!)
- ‚úÖ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- üéØ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –º–µ—Ç–æ–¥—ã)

---

## üéØ –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è LLM

| –≠—Ç–∞–ø | –ú–æ–¥–µ–ª—å | –§–∞–π–ª | –§—É–Ω–∫—Ü–∏—è | –ß–∞—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
|------|--------|------|---------|---------------------|
| **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º—ã** | GPT-4o-mini | `parser.py` | `_infer_topic_via_llm()` | 1 —Ä–∞–∑ –Ω–∞ –∫–Ω–∏–≥—É |
| **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)** | GPT-4o-mini | `parser.py` | `analyze_chunk()` | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑ (–ø–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º) |
| **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ (–≥–ª—É–±–æ–∫–æ–µ)** | Gemini-2.5-Flash | `gemini_extractor.py` | `extract_all_insights_from_text()` | 1 —Ä–∞–∑ –Ω–∞ –∫–Ω–∏–≥—É |
| **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ)** | Gemini-2.5-Flash | `gemini_book_analyzer.py` | `extract_insights_from_chapter()` | –ü–æ —á–∏—Å–ª—É –≥–ª–∞–≤ |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è** | GPT-4o-mini | `parser.py` | `_validate_quote_llm()` | –ü–æ —á–∏—Å–ª—É —Ü–∏—Ç–∞—Ç |
| **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** | GPT-4o-mini | `parser.py` | `filter_quotes()` | –ü–æ –±–∞—Ç—á–∞–º (100 —à—Ç—É–∫) |
| **–ü–æ–ª–∏—Ä–æ–≤–∫–∞** | GPT-4o-mini | `agent.py` | `_refine_batch()` | –ü–æ –±–∞—Ç—á–∞–º (30 —à—Ç—É–∫) |
| **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤** | GPT-4o-mini | `agent.py` | `_extract_engaging_from_chunk()` | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑ |
| **–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞** | GPT-4o-mini | `smart_quote_extractor.py` | `_analyze_quote_quality()` | –ü–æ —Ü–∏—Ç–∞—Ç–µ |
| **–ü–µ—Ä–µ–≤–æ–¥** | GPT-4o-mini | `parser.py` | `translate_text()` | –ü–æ —Ü–∏—Ç–∞—Ç–µ |

---

## üí∞ –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –ö–Ω–∏–≥–∞ –Ω–∞ 300 —Å—Ç—Ä–∞–Ω–∏—Ü (~150K —Å–∏–º–≤–æ–ª–æ–≤):

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (GPT-4o-mini):**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º—ã: ~$0.001
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ (100 —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤): ~$0.15
- –í–∞–ª–∏–¥–∞—Ü–∏—è (50 —Ü–∏—Ç–∞—Ç): ~$0.05
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è (2 –±–∞—Ç—á–∞): ~$0.02
- –ü–æ–ª–∏—Ä–æ–≤–∫–∞ (2 –±–∞—Ç—á–∞): ~$0.03
- –ü–µ—Ä–µ–≤–æ–¥ (50 —Ü–∏—Ç–∞—Ç): ~$0.10
- **–ò–¢–û–ì–û: ~$0.35**

**–ì–ª—É–±–æ–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (Gemini-2.5-Flash):**
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ (1 –∑–∞–ø—Ä–æ—Å): ~$0.015
- **–ò–¢–û–ì–û: ~$0.015** (–≤ 23 —Ä–∞–∑–∞ –¥–µ—à–µ–≤–ª–µ!)

---

## üîÑ Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç fallback –Ω–∞ —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã, –µ—Å–ª–∏ LLM –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:

- **–ë–µ–∑ OpenAI:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —ç–≤—Ä–∏—Å—Ç–∏–∫–∏ (–ø–æ–∏—Å–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã)
- **–ë–µ–∑ Gemini:** –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π GPT –º–µ—Ç–æ–¥

---

## üéì –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–î–ª—è –Ω–∞—á–∞–ª–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Gemini –≥–ª—É–±–æ–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–µ—à–µ–≤–æ –∏ –±—ã—Å—Ç—Ä–æ)
2. **–î–ª—è –∫–∞—á–µ—Å—Ç–≤–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GPT —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è)
3. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:** –ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞:
   - Gemini –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
   - GPT –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ª—É—á—à–∏—Ö —Ü–∏—Ç–∞—Ç

---

## ‚úÖ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç:**
- ‚úÖ OpenAI GPT-4o-mini –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚úÖ Google Gemini 2.5 Flash –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚úÖ Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

**–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è: –æ–±–∞ –¥–æ—Å—Ç—É–ø–Ω—ã (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç)
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: Gemini –≥–ª—É–±–æ–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –£–ª—É—á—à–µ–Ω–∏–µ: GPT-4o-mini (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024-11-03  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0

