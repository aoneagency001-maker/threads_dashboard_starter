# üß† –£–º–Ω—ã–π —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä —Ü–∏—Ç–∞—Ç

## –û–±–∑–æ—Ä —É–ª—É—á—à–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω–∞ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –∫–∞—á–µ—Å—Ç–≤–æ–º –∏ –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç—å—é –∏–∑–≤–ª–µ–∫–∞–µ–º—ã—Ö —Ü–∏—Ç–∞—Ç.

### –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞–ª–∏—Å—å:

1. **–ù–µ–ø–æ–ª–Ω—ã–µ —Ü–∏—Ç–∞—Ç—ã** - –±–æ—Ç –∏–∑–≤–ª–µ–∫–∞–ª –æ–±—Ä—ã–≤–∫–∏ –º—ã—Å–ª–µ–π
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** - —Ü–∏—Ç–∞—Ç—ã –±—ã–ª–∏ –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏  
3. **–ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ** - –º–Ω–æ–≥–æ –º—É—Å–æ—Ä–Ω—ã—Ö –∏ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
4. **–ñ–µ—Å—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã** - –±–æ—Ç –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–ª—Å—è –∫ —Ä–∞–∑–Ω—ã–º —Ç–∏–ø–∞–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéØ –£–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç:
- **–°—Ç—Ä—É–∫—Ç—É—Ä—É –∞–±–∑–∞—Ü–∞** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π, —Å—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞
- **–°–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –∏ —Ç–µ—Ä–º–∏–Ω–æ–≤
- **–ó–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç—å –º—ã—Å–ª–∏** - –ø–æ–ª–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è vs –æ–±—Ä—ã–≤–∫–∏

### üìä –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

–ö–∞–∂–¥–∞—è —Ü–∏—Ç–∞—Ç–∞ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º:
- **–ó–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç—å** (0-1) - —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ –∑–∞–∫–æ–Ω—á–µ–Ω–Ω—É—é –º—ã—Å–ª—å
- **–û—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç—å** (0-1) - –ø–æ–Ω—è—Ç–Ω–∞ –ª–∏ –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞  
- **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å** (0-1) - –ø–æ–ª–µ–∑–Ω–∞ –ª–∏ –¥–ª—è —á–∏—Ç–∞—Ç–µ–ª—è
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç** (0-1) - —Ö–æ—Ä–æ—à–æ –ª–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç —Å—É—Ç—å –∞–±–∑–∞—Ü–∞
- **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å** (0-1) - –æ–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

### üîÑ –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:
- **–ü–æ–ª–Ω—ã–π –∞–±–∑–∞—Ü** - –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö, —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã—Ö –∞–±–∑–∞—Ü–µ–≤
- **–ü–æ–ª–æ–≤–∏–Ω–∞ –∞–±–∑–∞—Ü–∞** - –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∞–±–∑–∞—Ü–µ–≤ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∏–¥–µ—è–º–∏
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞** - –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- **–ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π** - –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –º—ã—Å–ª–µ–π

### üè∑Ô∏è –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ü–∏—Ç–∞—Ç

- **–¢–∏–ø —Ü–∏—Ç–∞—Ç—ã**: full_paragraph, half_paragraph, specific_quote, multiple_sentences
- **–ö–∞—á–µ—Å—Ç–≤–æ**: excellent, good, average, poor
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è**: business, marketing, psychology, etc.
- **–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è**: entrepreneurs, marketers, general
- **–¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: motivational, analytical, practical

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

1. **–°–æ–±—Ä–∞—Ç—å –ª—É—á—à–∏–µ —Ü–∏—Ç–∞—Ç—ã** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–º–Ω—ã–π —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä –¥–ª—è –Ω–æ–≤—ã—Ö —Ü–∏—Ç–∞—Ç
2. **–£–ª—É—á—à–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ü–∏—Ç–∞—Ç—ã** - –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ —É–ª—É—á—à–∞–µ—Ç —É–∂–µ –∏–º–µ—é—â–∏–µ—Å—è

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ

```python
from backend.smart_quote_extractor import SmartQuoteExtractor

# –°–æ–∑–¥–∞–µ–º —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä
extractor = SmartQuoteExtractor()

# –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∞–±–∑–∞—Ü
analyses = extractor.analyze_paragraph(paragraph_text, page_number)

# –ü–æ–ª—É—á–∞–µ–º –ª—É—á—à–∏–µ —Ü–∏—Ç–∞—Ç—ã
best_quotes = [a for a in analyses if a.quality in ["excellent", "good"]]
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ —É–ª—É—á—à–µ–Ω–∏–π:
- –ú–Ω–æ–≥–æ –Ω–µ–ø–æ–ª–Ω—ã—Ö —Ü–∏—Ç–∞—Ç
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–±–æ—Ä–∞
- –ñ–µ—Å—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

### –ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π:
- ‚úÖ –ü–æ–ª–Ω—ã–µ, –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ —Ü–∏—Ç–∞—Ç—ã
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
SmartQuoteExtractor
‚îú‚îÄ‚îÄ analyze_paragraph() - –æ—Å–Ω–æ–≤–Ω–æ–π –∞–Ω–∞–ª–∏–∑
‚îú‚îÄ‚îÄ _analyze_paragraph_structure() - –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ _extract_quote_candidates() - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ _analyze_quote_quality() - –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
‚îî‚îÄ‚îÄ extract_smart_quotes() - –º–∞—Å—Å–æ–≤–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- `backend/agent.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω
- `app.py` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `backend/smart_quote_extractor.py` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞

### Fallback —Å–∏—Å—Ç–µ–º–∞

–ï—Å–ª–∏ LLM –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã:
- –ê–Ω–∞–ª–∏–∑ –¥–ª–∏–Ω—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –ü–æ–∏—Å–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞

–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–ª—É—á—à–µ–Ω–Ω—ã—Ö —Ü–∏—Ç–∞—Ç
- –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∫–∞—á–µ—Å—Ç–≤–∞ (confidence, context_score, etc.)
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π
- –¢–∏–ø—ã –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö —Ü–∏—Ç–∞—Ç

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** - –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö
2. **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å** - —É–ª—É—á—à–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤
3. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ–º—ã –∏ —Å—Ç–∏–ª–∏
4. **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

